<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Nutshack</title>
    <style>
        body {
            background-color: #f0e4d7;
            font-family: 'Courier New', Courier, monospace;
            color: #000;
            text-align: center;
            padding: 50px;
        }
        .container {
            border: 5px solid #8b4513;
            padding: 20px;
            display: inline-block;
            background-color: #d2b48c;
            box-shadow: 10px 10px 5px #888888;
            max-width: 800px;
            margin: auto;
        }
        h1 {
            color: #8b0000;
            font-size: 3em;
        }
        p {
            font-size: 1.2em;
        }
        .player-list {
            text-align: left;
            margin-top: 30px;
        }
        .player {
            margin-bottom: 20px;
        }
        .player h2 {
            margin: 10px 0;
            display: inline-block;
        }
        .live-status {
            display: inline-block;
            margin-left: 10px;
            color: red;
            font-weight: bold;
        }
        .icon {
            width: 24px;
            height: 24px;
            vertical-align: middle;
            margin-right: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>wololo</h1>
        <p>hi there, if you've been given this URL in game, this page helps you find us so we can hang out some more!</p>
        <div class="player-list">
            <div class="player">
                <h2>inertiacreeping <span id="status-inertiacreeping" class="live-status"></span></h2>
                <p>
                    <a href="https://www.twitch.tv/inertiacreeping" target="_blank">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/5/5f/Twitch_Logo_2019.svg" class="icon" alt="Twitch">
                    </a>
                    <a href="https://discord.gg/XXvQE4uY2m" target="_blank">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/4/48/Discord_Logo.svg" class="icon" alt="Discord">
                    </a>
                </p>
            </div>
            <div class="player">
                <h2>shider <span id="status-shider" class="live-status"></span></h2>
                <p>
                    <a href="https://www.twitch.tv/shiderplays" target="_blank">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/5/5f/Twitch_Logo_2019.svg" class="icon" alt="Twitch">
                    </a>
                    <a href="https://discord.gg/dzXthPsvKQ" target="_blank">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/4/48/Discord_Logo.svg" class="icon" alt="Discord">
                    </a>
                </p>
            </div>
            <div class="player">
                <h2>chestnut <span id="status-chestnut" class="live-status"></span></h2>
                <p>
                    <a href="https://www.twitch.tv/chestnutplace77" target="_blank">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/5/5f/Twitch_Logo_2019.svg" class="icon" alt="Twitch">
                    </a>
                    <a href="https://discord.gg/BGEA4HxY8u" target="_blank">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/4/48/Discord_Logo.svg" class="icon" alt="Discord">
                    </a>
                </p>
            </div>
        </div>
    </div>
    <script>
        const clientId = 'wsp888x940dnqxdecdjmcrrz5kflb5';
        const accessToken = 'oy5z377gdk6qjwrswqh3usp034gof7';
        const streamers = ['inertiacreeping', 'shiderplays', 'chestnutplace77'];

        async function checkLiveStatus() {
            for (const streamer of streamers) {
                const response = await fetch(`https://api.twitch.tv/helix/streams?user_login=${streamer}`, {
                    headers: {
                        'Client-ID': clientId,
                        'Authorization': `Bearer ${accessToken}`
                    }
                });
                const data = await response.json();
                const statusElement = document.getElementById(`status-${streamer}`);
                if (data.data.length > 0 && data.data[0].type === 'live') {
                    statusElement.textContent = 'LIVE';
                } else {
                    statusElement.textContent = '';
                }
            }
        }

        checkLiveStatus();
        setInterval(checkLiveStatus, 60000); // Check every 60 seconds
    </script>
</body>
</html>
